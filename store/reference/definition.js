'use strict';

var refConfigAccessor = require('../../reference/config');
var keyMirror = require('keymirror');
var isEmpty = require('lodash/lang/isEmpty');

/**
 * Build the reference definition from the keys registered into the definitions.
 * @returns {object} - The reference definition.
 */
function buildReferenceDefinition() {
  //Read the current configuration in the reference config.
  var referenceConf = refConfigAccessor.get();
  //Warn the user if empty.
  if (!referenceConf || isEmpty(referenceConf)) {
    console.warn('You did not set any reference list in the reference configuration, see Focus.reference.config.set.');
  }
  //Build an object from the keys.
  return keyMirror(referenceConf);
}

module.exports = buildReferenceDefinition;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2Nlc3Nvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksb0JBQW9CLFFBQVEsd0JBQVIsQ0FBeEI7QUFDQSxJQUFJLFlBQVksUUFBUSxXQUFSLENBQWhCO0FBQ0EsSUFBSSxVQUFVLFFBQVEscUJBQVIsQ0FBZDs7QUFFQTs7OztBQUlBLFNBQVMsd0JBQVQsR0FBbUM7QUFDakM7QUFDQSxNQUFJLGdCQUFnQixrQkFBa0IsR0FBbEIsRUFBcEI7QUFDQTtBQUNBLE1BQUcsQ0FBQyxhQUFELElBQWtCLFFBQVEsYUFBUixDQUFyQixFQUE0QztBQUMxQyxZQUFRLElBQVIsQ0FBYSxvR0FBYjtBQUNEO0FBQ0Q7QUFDQSxTQUFPLFVBQVUsYUFBVixDQUFQO0FBQ0Q7O0FBRUQsT0FBTyxPQUFQLEdBQWlCLHdCQUFqQiIsImZpbGUiOiJwcm9jZXNzb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVmQ29uZmlnQWNjZXNzb3IgPSByZXF1aXJlKCcuLi8uLi9yZWZlcmVuY2UvY29uZmlnJyk7XHJcbnZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdrZXltaXJyb3InKTtcclxudmFyIGlzRW1wdHkgPSByZXF1aXJlKCdsb2Rhc2gvbGFuZy9pc0VtcHR5Jyk7XHJcblxyXG4vKipcclxuICogQnVpbGQgdGhlIHJlZmVyZW5jZSBkZWZpbml0aW9uIGZyb20gdGhlIGtleXMgcmVnaXN0ZXJlZCBpbnRvIHRoZSBkZWZpbml0aW9ucy5cclxuICogQHJldHVybnMge29iamVjdH0gLSBUaGUgcmVmZXJlbmNlIGRlZmluaXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZFJlZmVyZW5jZURlZmluaXRpb24oKXtcclxuICAvL1JlYWQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiBpbiB0aGUgcmVmZXJlbmNlIGNvbmZpZy5cclxuICB2YXIgcmVmZXJlbmNlQ29uZiA9IHJlZkNvbmZpZ0FjY2Vzc29yLmdldCgpO1xyXG4gIC8vV2FybiB0aGUgdXNlciBpZiBlbXB0eS5cclxuICBpZighcmVmZXJlbmNlQ29uZiB8fCBpc0VtcHR5KHJlZmVyZW5jZUNvbmYpKXtcclxuICAgIGNvbnNvbGUud2FybignWW91IGRpZCBub3Qgc2V0IGFueSByZWZlcmVuY2UgbGlzdCBpbiB0aGUgcmVmZXJlbmNlIGNvbmZpZ3VyYXRpb24sIHNlZSBGb2N1cy5yZWZlcmVuY2UuY29uZmlnLnNldC4nKTtcclxuICB9XHJcbiAgLy9CdWlsZCBhbiBvYmplY3QgZnJvbSB0aGUga2V5cy5cclxuICByZXR1cm4ga2V5TWlycm9yKHJlZmVyZW5jZUNvbmYpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkUmVmZXJlbmNlRGVmaW5pdGlvbjtcclxuIl19